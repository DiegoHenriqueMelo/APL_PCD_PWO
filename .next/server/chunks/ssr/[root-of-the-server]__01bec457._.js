module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},50944,(a,b,c)=>{b.exports=a.r(74137)},16067,a=>{"use strict";function b(){return{"Content-Type":"application/json"}}a.s(["getAuthHeaders",()=>b])},40074,a=>{"use strict";a.s(["default",()=>h],40074);var b=a.i(87924),c=a.i(72131),d=a.i(16067);let e=async a=>{try{console.log("[getVagasByCandidate] iniciando requisição para candidateId:",a);let b=(0,d.getAuthHeaders)();console.log("[getVagasByCandidate] headers:",b);let c=`http://localhost:3001/get/vagas/byCandidato/${a}`;console.log("[getVagasByCandidate] fetch ->",c);let e=await fetch(c,{method:"GET",headers:b});console.log("[getVagasByCandidate] status:",e.status);let f=await e.text();try{let a=JSON.parse(f);if(console.log("[getVagasByCandidate] data:",a),!e.ok)throw Error(`HTTP error! status: ${e.status} - ${f}`);return a}catch(a){if(console.warn("[getVagasByCandidate] resposta não-JSON:",f),!e.ok)throw Error(`HTTP error! status: ${e.status} - ${f}`);return f}}catch(a){throw console.error("[getVagasByCandidate] Erro ao buscar vagas por candidato:",a),a}};var f=a.i(50944),g=a.i(11642);function h(){let a=(0,f.useRouter)(),{user:d,isAuthenticated:h,userType:i,isLoading:j,logout:k}=(0,g.useAuth)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{j||h||a.push("/login")},[h,j,a]);let r=async()=>{if("candidate"===i&&d)try{o(!0),console.log("[perfil] carregando candidaturas para user.id=",d.id);let a=await e(d.id);console.log("[perfil] resposta do getVagasByCandidate:",a);let b=[];b=Array.isArray(a)?a:a&&Array.isArray(a.data)?a.data:a&&a.message&&Array.isArray(a.message)?a.message:a&&a.message&&a.message.data&&Array.isArray(a.message.data)?a.message.data:[],m(b)}catch(a){console.error("Erro ao carregar candidaturas:",a),alert("Erro ao carregar candidaturas. Veja console para detalhes."),m([])}finally{o(!1)}},s=async()=>{p||0!==l.length||await r(),q(a=>!a)};if(!h||j)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})});let t="candidate"===i?"#7BB7EB":"#ECAE7D";return(0,b.jsxs)("div",{className:`min-h-screen bg-gradient-to-br ${"candidate"===i?"from-blue-50":"from-orange-50"} via-gray-50 ${"candidate"===i?"to-sky-50":"to-amber-50"}`,children:[(0,b.jsx)("header",{className:"bg-white shadow-sm",children:(0,b.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("a",{href:"/",className:"flex items-center space-x-2 hover:opacity-80 transition",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:t},children:(0,b.jsx)("span",{className:"text-white font-bold text-xl",children:"PC"})}),(0,b.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"PCDentro"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("button",{onClick:()=>a.push("candidate"===i?"/vaga":"/vaga/create"),className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition",children:"Início"}),(0,b.jsx)("button",{onClick:()=>{k(),a.push("/login")},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 font-medium transition",children:"Sair"})]})]})})}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"px-8 py-10",style:{background:`linear-gradient(135deg, ${t} 0%, #52606B 100%)`},children:(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-white flex items-center justify-center text-4xl font-bold",style:{color:t},children:"candidate"===i&&d&&"name"in d?d.name.charAt(0).toUpperCase():"company"===i&&d&&"trade_name"in d?d.trade_name.charAt(0).toUpperCase():"U"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"candidate"===i&&d&&"name"in d?d.name:"company"===i&&d&&"trade_name"in d?d.trade_name:"Usuário"}),(0,b.jsx)("p",{className:"text-white opacity-90 text-lg",children:"candidate"===i?"Candidato":"Empresa"})]}),(0,b.jsx)("button",{onClick:()=>a.push("/mudar-senha"),className:"px-6 py-3 bg-white rounded-lg font-semibold hover:opacity-90 transition shadow-lg",style:{color:t},children:"Alterar Senha"})]})}),"candidate"===i&&d&&"name"in d&&(0,b.jsxs)("div",{className:"p-8 md:p-10",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Informações Pessoais"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nome Completo"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:d.name})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:d.email})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CPF"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:"cpf"in d?d.cpf:"-"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Telefone"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:"phone"in d?d.phone:"-"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Data de Nascimento"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:"birth_date"in d?new Date(d.birth_date).toLocaleDateString("pt-BR"):"-"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ID do Usuário"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900 font-mono text-sm",children:d.id})})]})]})]}),"candidate"===i&&p&&(0,b.jsxs)("div",{className:"p-8 md:p-10 border-t border-gray-100",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Minhas Candidaturas"}),n?(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-3 text-gray-600",children:"Carregando candidaturas..."})]}):0===l.length?(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 text-center",children:(0,b.jsx)("p",{className:"text-gray-600",children:"Você ainda não se candidatou a nenhuma vaga."})}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:l.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:a.titulo||a.vaga_titulo||"Vaga"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.nome_fantasia||a.empresa||""}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Publicada: ",a.data_inicio?new Date(a.data_inicio).toLocaleDateString("pt-BR"):"-"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Até: ",a.data_fim?new Date(a.data_fim).toLocaleDateString("pt-BR"):"-"]})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:(0,b.jsx)("p",{children:a.status?"Candidatura ativa":"Candidatura processada"})})]},a.id&&a.id!==d?.id?a.id:`cand-${c}`))})]}),"company"===i&&d&&"trade_name"in d&&(0,b.jsxs)("div",{className:"p-8 md:p-10",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Informações da Empresa"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nome Fantasia"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:d.trade_name})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Razão Social"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:d.company_name})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:d.email})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CNPJ"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:d.cnpj})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Telefone"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900",children:d.phone})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ID da Empresa"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-900 font-mono text-sm",children:d.id})})]})]})]}),(0,b.jsx)("div",{className:"px-8 pb-8 md:px-10 md:pb-10",children:(0,b.jsxs)("div",{className:"pt-6 border-t border-gray-200 flex justify-end space-x-4",children:[(0,b.jsx)("button",{onClick:()=>a.push("/mudar-senha"),className:"px-6 py-3 border-2 rounded-lg font-semibold hover:opacity-80 transition",style:{borderColor:t,color:t},children:"Alterar Senha"}),(0,b.jsx)("button",{onClick:()=>a.push("/perfil/editar"),className:"px-6 py-3 border-2 rounded-lg font-semibold hover:opacity-80 transition",style:{borderColor:t,color:t},children:"Editar Perfil"}),"company"===i&&(0,b.jsx)("button",{onClick:()=>a.push("/minhas-vagas"),className:"px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90 transition shadow-lg",style:{backgroundColor:t},children:"Minhas Vagas"}),"candidate"===i&&(0,b.jsx)("button",{onClick:s,className:"px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90 transition shadow-lg",style:{backgroundColor:t},children:"Minhas Candidaturas"}),(0,b.jsx)("button",{onClick:()=>a.push("candidate"===i?"/vaga":"/vaga/create"),className:"px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90 transition shadow-lg",style:{backgroundColor:t},children:"candidate"===i?"Ver Vagas":"Criar Vaga"})]})})]})})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__01bec457._.js.map