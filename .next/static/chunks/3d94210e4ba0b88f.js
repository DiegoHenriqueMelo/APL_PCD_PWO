(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57951,e=>{"use strict";e.s(["AuthProvider",()=>a,"useAuth",()=>n]);var t=e.i(43476),o=e.i(71645);let r=(0,o.createContext)({});function a(e){let{children:a}=e,[n,c]=(0,o.useState)(null),[l,u]=(0,o.useState)(null),[s,i]=(0,o.useState)(null),[d,g]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{try{let e=localStorage.getItem("@PCDentro:token"),t=localStorage.getItem("@PCDentro:user"),o=localStorage.getItem("@PCDentro:userType");e&&t&&o&&(i(e),c(JSON.parse(t)),u(o))}catch(e){console.error("Erro ao carregar dados do storage:",e)}finally{g(!1)}},[]),(0,t.jsx)(r.Provider,{value:{user:n,userType:l,token:s,isLoading:d,isAuthenticated:!!n&&!!s,login:(e,t,o)=>{c(e),i(t),u(o),localStorage.setItem("@PCDentro:token",t),localStorage.setItem("@PCDentro:user",JSON.stringify(e)),o&&localStorage.setItem("@PCDentro:userType",o);try{if(o){let e=new Date(Date.now()+6048e5).toUTCString();document.cookie="pcd_token=".concat(t,"; path=/; expires=").concat(e),document.cookie="pcd_role=".concat(o,"; path=/; expires=").concat(e)}}catch(e){}},logout:()=>{c(null),i(null),u(null),localStorage.removeItem("@PCDentro:token"),localStorage.removeItem("@PCDentro:user"),localStorage.removeItem("@PCDentro:userType");try{document.cookie="pcd_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="pcd_role=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}catch(e){}}},children:a})}function n(){let e=(0,o.useContext)(r);if(!e)throw Error("useAuth deve ser usado dentro de um AuthProvider");return e}}]);