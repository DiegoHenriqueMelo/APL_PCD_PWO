(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,s)=>{a.exports=e.r(76562)},68550,e=>{"use strict";function a(){let e=localStorage.getItem("@PCDentro:token"),a={"Content-Type":"application/json"};return e&&(a.Authorization="Bearer ".concat(e)),a}e.s(["getAuthHeaders",()=>a])},45487,e=>{"use strict";e.s(["default",()=>i],45487);var a=e.i(43476),s=e.i(71645),t=e.i(18566),r=e.i(57951),o=e.i(68550);let l=async e=>{try{console.log("=== GET VAGAS BY COMPANY ==="),console.log("Company ID:",e);let a=(0,o.getAuthHeaders)(),s=await fetch("http://localhost:3001/get/vagas/byId/".concat(e),{method:"GET",headers:a});if(console.log("Status:",s.status),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let t=await s.json();return console.log("Vagas da empresa:",t),t}catch(e){throw console.error("Erro ao buscar vagas da empresa:",e),e}},n=async e=>{try{let a=(0,o.getAuthHeaders)(),s=await fetch("http://localhost:3001/delete/vaga/".concat(e),{method:"DELETE",headers:a});if(!s.ok){let e=await s.text();throw Error("Erro ao deletar vaga: ".concat(s.status," - ").concat(e))}return await s.json()}catch(e){throw console.error("deleteVaga error:",e),e}};function i(){let e=(0,t.useRouter)(),{user:o,isAuthenticated:i,userType:c,isLoading:d}=(0,r.useAuth)(),[x,m]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>d||i?"company"!==c?void e.push("/perfil"):void((null==o?void 0:o.id)&&u()):void e.push("/login"),[o,i,c,d,e]);let u=async()=>{try{var e;if(!(null==o?void 0:o.id))return void console.log("‚ö†Ô∏è User ID n√£o encontrado");console.log("üìû Buscando vagas para empresa:",o.id);let a=await l(o.id);console.log("üì¶ Resposta completa:",a);let s=(null==a||null==(e=a.message)?void 0:e.data)||[];console.log("‚úÖ Vagas processadas:",s),console.log("‚úÖ Quantidade:",s.length),m(Array.isArray(s)?s:[])}catch(e){console.error("‚ùå Erro ao carregar vagas:",e),m([])}finally{g(!1)}};if(!i||d||"company"!==c)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})});let p="#ECAE7D";return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-gray-50 to-amber-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm",children:(0,a.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("a",{href:"/",className:"flex items-center space-x-2 hover:opacity-80 transition",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:p},children:(0,a.jsx)("span",{className:"text-white font-bold text-xl",children:"PC"})}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"PCDentro"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/perfil"),className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition",children:"Perfil"}),(0,a.jsx)("button",{onClick:()=>e.push("/vaga/create"),className:"px-6 py-2 text-white rounded-lg font-medium hover:opacity-90 transition",style:{backgroundColor:p},children:"+ Nova Vaga"})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Minhas Vagas"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Gerencie as vagas criadas pela sua empresa"})]}),h?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando vagas..."})]}):0===x.length?(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,a.jsx)("svg",{className:"w-24 h-24 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nenhuma vaga criada"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Crie sua primeira vaga para come√ßar a atrair candidatos!"}),(0,a.jsx)("button",{onClick:()=>e.push("/vaga/create"),className:"px-8 py-3 text-white rounded-lg font-semibold hover:opacity-90 transition shadow-lg",style:{backgroundColor:p},children:"Criar Primeira Vaga"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.titulo}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status?"Ativa":"Inativa"})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.descricao}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("span",{className:"font-semibold",children:["R$ ",e.salario]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsxs)("span",{children:["At√© ",new Date(e.data_fim).toLocaleDateString("pt-BR")]})]})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("button",{onClick:async()=>{if(confirm("Deseja desativar esta vaga? Essa a√ß√£o pode ser revers√≠vel no backend."))try{await n(e.id),await u()}catch(e){console.error("Erro ao desativar vaga:",e),alert("Erro ao desativar vaga. Veja o console para mais detalhes.")}},className:"px-4 py-2 rounded-lg font-semibold text-red-700 border border-red-200 hover:bg-red-50 transition",children:"Desativar"})})]})},e.id))})]})]})}}]);